<div class="page-wrapper">
  <div class="page-container">
    <h2>Minha Lista de Filmes</h2>

    <a routerLink="/filmes/novo" class="btn-add">+ Adicionar Filme</a>

    <table *ngIf="movies.length > 0; else semFilmes">
      <thead>
        <tr>
          <th>TÃ­tulo</th>
          <th>Status</th>
          <th>AÃ§Ãµes</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let m of movies">
          <td>{{ m.title }}</td>
          <td>
            <span [class.badge-done]="m.status === 'Assistido'">
              {{ m.status }}
            </span>
          </td>
          <td class="actions">
            <a [routerLink]="['/filmes/editar', m._id]" class="btn-link">âœï¸ Editar</a>
            <button class="btn-link" (click)="toggle(m)">
              {{ m.status === 'Pendente' ? 'âœ”ï¸ Assistido' : 'â†©ï¸ Pendente' }}
            </button>
            <button class="btn-link danger" (click)="delete(m._id!)">DeletarğŸ—‘ï¸</button>
          </td>
        </tr>
      </tbody>
    </table>

    <ng-template #semFilmes>
      <p class="empty-msg">
        VocÃª ainda nÃ£o adicionou nenhum filme.<br />
        Clique em <strong>â€œ+ Adicionar Filmeâ€</strong> para comeÃ§ar!
      </p>
    </ng-template>
  </div>
</div>
